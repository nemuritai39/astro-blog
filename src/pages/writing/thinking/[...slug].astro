---
import { getCollection, render } from 'astro:content';
import BaseHead from '../../components/BaseHead.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';

export async function getStaticPaths() {
  // 【关键修改点】这里要改成对应的集合名，如 'poems'
  const entries = await getCollection('thinking'); 
  return entries.map(entry => ({
    params: { slug: entry.id },
    props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content } = await render(entry);
---

<html lang="en">
  <head><BaseHead title={entry.data.title} description={entry.data.description} /></head>
  <body>
    <Header />
    <main style="max-width: 700px; margin: 100px auto; padding: 0 20px;">
      <article>
        <h1 style="font-family: var(--font-display); font-size: 2.5rem; color: #d6b25e;">{entry.data.title}</h1>
        <div style="font-family: var(--font-mono); opacity: 0.5; margin-bottom: 2rem;">
          {entry.data.pubDate.toLocaleDateString()}
        </div>
        <div class="prose" style="line-height: 1.8;">
          <Content />
        </div>
      </article>
    </main>
    <Footer />
  </body>
</html>
